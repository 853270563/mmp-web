<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="SYS_ROLE_MAP">

    <sql id="queryDynSql">
        <isNotEmpty prepend="AND" property="ID">
            T.ID = #ID#
        </isNotEmpty>
        <isNotEmpty prepend="AND" property="SYS_ROLE_ID">
            T.SYS_ROLE_ID = #SYS_ROLE_ID#
        </isNotEmpty>
        <isNotEmpty prepend="AND" property="MAP_CODE">
            T.MAP_CODE = #MAP_CODE#
        </isNotEmpty>
        <isNotEmpty prepend="AND" property="REMARK">
            T.REMARK = #REMARK#
        </isNotEmpty>
    </sql>

    <sql id="coreSql">
        SELECT T.* FROM ${schema.xd}.SYS_ROLE_MAP T
        <dynamic prepend="WHERE">
            <include refid="queryDynSql"/>
        </dynamic>
        <![CDATA[ ORDER BY T.ID]]>
    </sql>

    <select id="pageQuery" parameterClass="map" resultClass="java.util.HashMap">
        <include refid="public.pageBegin"/>
        <include refid="coreSql"/>
        <include refid="public.pageEnd"/>
    </select>

    <select id="pageCount" parameterClass="map" resultClass="int">
        <![CDATA[
			SELECT COUNT('') CNT
			FROM ${schema.xd}.SYS_ROLE_MAP T
		]]>
        <dynamic prepend="WHERE">
            <include refid="queryDynSql"/>
        </dynamic>
    </select>

    <insert id="insert" parameterClass="map">
        INSERT INTO ${schema.xd}.CASE
        (
        ID
        <isNotEmpty prepend="," property="SYS_ROLE_ID">SYS_ROLE_ID</isNotEmpty>
        <isNotEmpty prepend="," property="MAP_CODE">MAP_CODE</isNotEmpty>
        <isNotEmpty prepend="," property="REMARK">REMARK</isNotEmpty>
        ) VALUES (
        #ID#
        <isNotEmpty prepend="," property="SYS_ROLE_ID">#SYS_ROLE_ID#</isNotEmpty>
        <isNotEmpty prepend="," property="MAP_CODE">#MAP_CODE#</isNotEmpty>
        <isNotEmpty prepend="," property="REMARK">#REMARK#</isNotEmpty>
        )
    </insert>

    <update id="updateById" parameterClass="map">
        <![CDATA[ update ${schema.xd}.SYS_ROLE_MAP ]]>
        <dynamic prepend="set">
            <isNotNull prepend="," property="SYS_ROLE_ID">SYS_ROLE_ID = #SYS_ROLE_ID#</isNotNull>
            <isNotNull prepend="," property="MAP_CODE">MAP_CODE = #MAP_CODE#</isNotNull>
            <isNotNull prepend="," property="REMARK">REMARK = #REMARK#</isNotNull>
        </dynamic>
        <![CDATA[ where ID = #ID# ]]>
    </update>

    <delete id="delete" parameterClass="map">
        <![CDATA[
         delete from ${schema.xd}.SYS_ROLE_MAP where ID = #ID#
        ]]>
    </delete>

    <select id="query" parameterClass="map" resultClass="java.util.HashMap">
        <include refid="coreSql"/>
    </select>

    <select id="seq" resultClass="String">
        select ${schema.xd}.SEQ_SYS_ROLE_MAP.nextval from dual
    </select>

</sqlMap>

