<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="NEWS_INFO">

	<sql id="queryDynSql"> 
		<isNotEmpty prepend="and" property="APP_ID">
			APP_ID = #APP_ID#
		</isNotEmpty> 
	</sql>
	 
	<select id="query" parameterClass="map" resultClass="java.util.HashMap">
		SELECT T.* FROM ${schema.interPlat}.NEWS_INFO T 
	</select> 
	
	<!-- 查询SQL -->
	<sql id="coreSql">
		SELECT T.*,ROW_NUMBER() OVER(ORDER BY T.R_ID) AS RN 
		FROM ${schema.interPlat}.NEWS_INFO T
		<dynamic prepend="WHERE ">
			<include refid="queryDynSql" />
		</dynamic> 
	</sql>
	

	<!-- 分页查询 -->
	<select id="pageQuery" parameterClass="map" resultClass="java.util.HashMap">
		<include refid="public.pageBegin" />
		<include refid="coreSql" />
		<include refid="public.pageEnd" />
	</select>

	
</sqlMap>

