<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:task="http://www.springframework.org/schema/task"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd
       http://www.springframework.org/schema/task  http://www.springframework.org/schema/task/spring-task-3.2.xsd ">

	<!-- 配置spring 任务调度 ：线程池-->
	<bean id="myExecutor" class="org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor">
		<property name="corePoolSize" value="10" />
		<property name="keepAliveSeconds" value="300" />
		<property name="maxPoolSize" value="100" />
		<property name="queueCapacity" value="80" />
		<property name="rejectedExecutionHandler">
			<bean class="java.util.concurrent.ThreadPoolExecutor$CallerRunsPolicy" />
		</property>
	</bean>
	<!--超时任务  -->
	<bean class="cn.com.yitong.modules.task.TimeOutTask" id="timeOutTask"></bean>
    <!-- 配置spring 任务调度 -->
	 <task:scheduled-tasks scheduler="myScheduler">
		<task:scheduled ref="disLeafletsTask" method="ptask" fixed-rate="36000000" initial-delay="3600000"/>
		<task:scheduled ref="timeOutTask" method="timeOutTask" fixed-rate="3600000" initial-delay="180000"/>
		<task:scheduled ref="timeOutTask" method="unlock" cron="0 0 12 * * ?"/> <!-- 每天中午12点 -->
		<task:scheduled ref="timeOutTask" method="deleteXy" cron="0 0 12 * * ?"/> <!-- 每天中午12点 -->
		<task:scheduled ref="timeOutTask" method="timeOutTaskDay" cron="0 0 0 * * ?"/> <!-- 每天中午0点更新超时天数 -->
		<task:scheduled ref="fileMonitor" method="runAnsyTask" fixed-rate="120000" initial-delay="18000"/>
	</task:scheduled-tasks> 
	<task:scheduler id="myScheduler" pool-size="10" />
</beans>
	